!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var o in r)("object"==typeof exports?exports:t)[o]=r[o]}}(this,function(){return function(t){function n(o){if(r[o])return r[o].exports;var e=r[o]={exports:{},id:o,loaded:!1};return t[o].call(e.exports,e,e.exports,n),e.loaded=!0,e.exports}var r={};return n.m=t,n.c=r,n.p="",n(0)}([function(t,n,r){function o(t,n){this._model=t||{components:{},connections:{},pages:{},eventHandlers:{}},this._onUpdateCallback=n}function e(t,n,r,o,e){var i={type:t,name:n,targetId:o,params:r};this._onUpdateCallback&&this._onUpdateCallback(o,g,i,e)}function i(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function u(t,n,r,o,e){var i=a.get(t,["components",n]);i&&(i[r]=a.assign(i[r],o),e&&e(n,r,o))}function c(t){return Object.keys(t.components)}var a=r(1),f="data",p="state",s="type",l="props",v="parent",d="events",h="layout",g="behavior",y="publicAPI",m="isDisplayed";o.prototype.addComponent=function(t,n){var r={};r[v]=n[v],r[p]=n[p]||{},r[s]=n[s],r[f]=n[f]||{},r[l]=n[l]||{},r[h]=n[h]||{},r[d]=n[d]||[],r[m]=n[m]||!1,this._model.components[t]=r},o.prototype.addPagesData=function(t){this._model.pages.pagesData=t.pagesData,this._model.pages.currentPageId=t.currentPageId,this._model.pages.baseUrl=t.baseUrl},o.prototype.addConnections=function(t){this._model.connections=t},o.prototype.getComp=function(t){return a.get(this._model.components,t)},o.prototype.getState=function(t){return a.get(this._model.components,[t,p])},o.prototype.getData=function(t){return a.get(this._model.components,[t,f])},o.prototype.getType=function(t){return a.get(this._model.components,[t,s])},o.prototype.getProps=function(t){return a.get(this._model.components,[t,l])},o.prototype.getEvents=function(t){return a.get(this._model.components,[t,d])},o.prototype.getLayout=function(t){return a.get(this._model.components,[t,h])},o.prototype.getPublicAPI=function(t){return a.get(this._model.components,[t,y])},o.prototype.getCallbackById=function(t){return this._model.eventHandlers[t]},o.prototype.getParent=function(t){return a.get(this._model.components,[t,v])},o.prototype.getChildren=function(t){var n=c(this._model);return n.filter(function(n){return a.get(this._model.components,[n,v])===t},this)},o.prototype.setData=function(t,n){u(this._model,t,f,n,this._onUpdateCallback)},o.prototype.setProps=function(t,n,r){u(this._model,t,l,n,function(t,n,o){this._onUpdateCallback.call(this,t,n,o,r)}.bind(this))},o.prototype.setLayout=function(t,n){u(this._model,t,h,n,this._onUpdateCallback)},o.prototype.setPublicAPI=function(t,n){var r=a.get(this._model.components,t);r&&(r[y]=n)},o.prototype.executeCompBehavior=function(t,n,r,o){e.call(this,"comp",n,r,t,o)},o.prototype.executeAnimation=function(t,n,r,o){e.call(this,"animation",n,r,t,o)},o.prototype.setUpdateCallback=function(t){this._onUpdateCallback=t},o.prototype.registerEvent=function(t,n,r,o){var e;a.isFunction(o)?(e=i(),this._model.eventHandlers[e]=o):e=o;var c={action:{type:"comp",name:r,sourceId:n},behavior:{type:"widget",targetId:t,params:{callbackId:e,compId:n},name:"runCode"}};u(this._model,n,d,c,this._onUpdateCallback)},o.prototype.toJson=function(){return this._model},o.prototype.getScopedRMI=function(t){var n=new this.constructor(this._model,this._onUpdateCallback);return n.getCompIdsFromRole=n.getCompIdsFromRole.bind(n,t),n.getCompIdsFromType=n.getCompIdsFromType.bind(n,t),n.getConfig=n.getConfig.bind(n,t),n},o.prototype.getCompIdsFromType=function(t,n){var r=c(this._model),o=[];return r.forEach(function(t){var r=this.getType(t);r===n&&o.push(t)},this),o},o.prototype.getCompIdsFromRole=function(t,n){var r=a.get(this._model.connections,[t,n]);return r?Object.keys(r):[]},o.prototype.getConfig=function(t,n,r){var o=a.get(this._model.connections,[t,r]);return o?o[n]:{}},o.prototype.getCompsFromType=function(t){var n=[],r=c(this._model);return r.forEach(function(r){var o=this.getType(r);o===t&&n.push(this.getComp(r))},this),n},o.prototype.updateModel=function(t){for(var n in t){var r=this.getComp(n),o=t[n];if(r)for(var e in o)a.assign(r[e],o[e])}},t.exports=o},function(t,n,r){t.exports={findIndex:r(2),filter:r(45),get:r(53),assign:r(54),isFunction:r(16)}},function(t,n,r){var o=r(3),e=o();t.exports=e},function(t,n,r){function o(t){return function(n,r,o){return n&&n.length?(r=e(r,o,3),i(n,r,t)):-1}}var e=r(4),i=r(44);t.exports=o},function(t,n,r){function o(t,n,r){var o=typeof t;return"function"==o?void 0===n?t:u(t,n,r):null==t?c:"object"==o?e(t):void 0===n?a(t):i(t,n)}var e=r(5),i=r(33),u=r(40),c=r(41),a=r(42);t.exports=o},function(t,n,r){function o(t){var n=i(t);if(1==n.length&&n[0][2]){var r=n[0][0],o=n[0][1];return function(t){return null!=t&&(t[r]===o&&(void 0!==o||r in u(t)))}}return function(t){return e(t,n)}}var e=r(6),i=r(30),u=r(29);t.exports=o},function(t,n,r){function o(t,n,r){var o=n.length,u=o,c=!r;if(null==t)return!u;for(t=i(t);o--;){var a=n[o];if(c&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<u;){a=n[o];var f=a[0],p=t[f],s=a[1];if(c&&a[2]){if(void 0===p&&!(f in t))return!1}else{var l=r?r(p,s,f):void 0;if(!(void 0===l?e(s,p,r,!0):l))return!1}}return!0}var e=r(7),i=r(29);t.exports=o},function(t,n,r){function o(t,n,r,c,a,f){return t===n||(null==t||null==n||!i(t)&&!u(n)?t!==t&&n!==n:e(t,n,o,r,c,a,f))}var e=r(8),i=r(17),u=r(18);t.exports=o},function(t,n,r){function o(t,n,r,o,l,h,g){var y=c(t),m=c(n),b=p,x=p;y||(b=d.call(t),b==f?b=s:b!=s&&(y=a(t))),m||(x=d.call(n),x==f?x=s:x!=s&&(m=a(n)));var j=b==s,_=x==s,C=b==x;if(C&&!y&&!j)return i(t,n,b);if(!l){var A=j&&v.call(t,"__wrapped__"),I=_&&v.call(n,"__wrapped__");if(A||I)return r(A?t.value():t,I?n.value():n,o,l,h,g)}if(!C)return!1;h||(h=[]),g||(g=[]);for(var O=h.length;O--;)if(h[O]==t)return g[O]==n;h.push(t),g.push(n);var P=(y?e:u)(t,n,r,o,l,h,g);return h.pop(),g.pop(),P}var e=r(9),i=r(11),u=r(12),c=r(25),a=r(28),f="[object Arguments]",p="[object Array]",s="[object Object]",l=Object.prototype,v=l.hasOwnProperty,d=l.toString;t.exports=o},function(t,n,r){function o(t,n,r,o,i,u,c){var a=-1,f=t.length,p=n.length;if(f!=p&&!(i&&p>f))return!1;for(;++a<f;){var s=t[a],l=n[a],v=o?o(i?l:s,i?s:l,a):void 0;if(void 0!==v){if(v)continue;return!1}if(i){if(!e(n,function(t){return s===t||r(s,t,o,i,u,c)}))return!1}else if(s!==l&&!r(s,l,o,i,u,c))return!1}return!0}var e=r(10);t.exports=o},function(t,n){function r(t,n){for(var r=-1,o=t.length;++r<o;)if(n(t[r],r,t))return!0;return!1}t.exports=r},function(t,n){function r(t,n,r){switch(r){case o:case e:return+t==+n;case i:return t.name==n.name&&t.message==n.message;case u:return t!=+t?n!=+n:t==+n;case c:case a:return t==n+""}return!1}var o="[object Boolean]",e="[object Date]",i="[object Error]",u="[object Number]",c="[object RegExp]",a="[object String]";t.exports=r},function(t,n,r){function o(t,n,r,o,i,c,a){var f=e(t),p=f.length,s=e(n),l=s.length;if(p!=l&&!i)return!1;for(var v=p;v--;){var d=f[v];if(!(i?d in n:u.call(n,d)))return!1}for(var h=i;++v<p;){d=f[v];var g=t[d],y=n[d],m=o?o(i?y:g,i?g:y,d):void 0;if(!(void 0===m?r(g,y,o,i,c,a):m))return!1;h||(h="constructor"==d)}if(!h){var b=t.constructor,x=n.constructor;if(b!=x&&"constructor"in t&&"constructor"in n&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x))return!1}return!0}var e=r(13),i=Object.prototype,u=i.hasOwnProperty;t.exports=o},function(t,n,r){var o=r(14),e=r(19),i=r(17),u=r(23),c=o(Object,"keys"),a=c?function(t){var n=null==t?void 0:t.constructor;return"function"==typeof n&&n.prototype===t||"function"!=typeof t&&e(t)?u(t):i(t)?c(t):[]}:u;t.exports=a},function(t,n,r){function o(t,n){var r=null==t?void 0:t[n];return e(r)?r:void 0}var e=r(15);t.exports=o},function(t,n,r){function o(t){return null!=t&&(e(t)?p.test(a.call(t)):i(t)&&u.test(t))}var e=r(16),i=r(18),u=/^\[object .+?Constructor\]$/,c=Object.prototype,a=Function.prototype.toString,f=c.hasOwnProperty,p=RegExp("^"+a.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=o},function(t,n,r){function o(t){return e(t)&&c.call(t)==i}var e=r(17),i="[object Function]",u=Object.prototype,c=u.toString;t.exports=o},function(t,n){function r(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}t.exports=r},function(t,n){function r(t){return!!t&&"object"==typeof t}t.exports=r},function(t,n,r){function o(t){return null!=t&&i(e(t))}var e=r(20),i=r(22);t.exports=o},function(t,n,r){var o=r(21),e=o("length");t.exports=e},function(t,n){function r(t){return function(n){return null==n?void 0:n[t]}}t.exports=r},function(t,n){function r(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}var o=9007199254740991;t.exports=r},function(t,n,r){function o(t){for(var n=a(t),r=n.length,o=r&&t.length,f=!!o&&c(o)&&(i(t)||e(t)),s=-1,l=[];++s<r;){var v=n[s];(f&&u(v,o)||p.call(t,v))&&l.push(v)}return l}var e=r(24),i=r(25),u=r(26),c=r(22),a=r(27),f=Object.prototype,p=f.hasOwnProperty;t.exports=o},function(t,n,r){function o(t){return i(t)&&e(t)&&c.call(t,"callee")&&!a.call(t,"callee")}var e=r(19),i=r(18),u=Object.prototype,c=u.hasOwnProperty,a=u.propertyIsEnumerable;t.exports=o},function(t,n,r){var o=r(14),e=r(22),i=r(18),u="[object Array]",c=Object.prototype,a=c.toString,f=o(Array,"isArray"),p=f||function(t){return i(t)&&e(t.length)&&a.call(t)==u};t.exports=p},function(t,n){function r(t,n){return t="number"==typeof t||o.test(t)?+t:-1,n=null==n?e:n,t>-1&&t%1==0&&t<n}var o=/^\d+$/,e=9007199254740991;t.exports=r},function(t,n,r){function o(t){if(null==t)return[];a(t)||(t=Object(t));var n=t.length;n=n&&c(n)&&(i(t)||e(t))&&n||0;for(var r=t.constructor,o=-1,f="function"==typeof r&&r.prototype===t,s=Array(n),l=n>0;++o<n;)s[o]=o+"";for(var v in t)l&&u(v,n)||"constructor"==v&&(f||!p.call(t,v))||s.push(v);return s}var e=r(24),i=r(25),u=r(26),c=r(22),a=r(17),f=Object.prototype,p=f.hasOwnProperty;t.exports=o},function(t,n,r){function o(t){return i(t)&&e(t.length)&&!!w[F.call(t)]}var e=r(22),i=r(18),u="[object Arguments]",c="[object Array]",a="[object Boolean]",f="[object Date]",p="[object Error]",s="[object Function]",l="[object Map]",v="[object Number]",d="[object Object]",h="[object RegExp]",g="[object Set]",y="[object String]",m="[object WeakMap]",b="[object ArrayBuffer]",x="[object Float32Array]",j="[object Float64Array]",_="[object Int8Array]",C="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",O="[object Uint8ClampedArray]",P="[object Uint16Array]",k="[object Uint32Array]",w={};w[x]=w[j]=w[_]=w[C]=w[A]=w[I]=w[O]=w[P]=w[k]=!0,w[u]=w[c]=w[b]=w[a]=w[f]=w[p]=w[s]=w[l]=w[v]=w[d]=w[h]=w[g]=w[y]=w[m]=!1;var U=Object.prototype,F=U.toString;t.exports=o},function(t,n,r){function o(t){return e(t)?t:Object(t)}var e=r(17);t.exports=o},function(t,n,r){function o(t){for(var n=i(t),r=n.length;r--;)n[r][2]=e(n[r][1]);return n}var e=r(31),i=r(32);t.exports=o},function(t,n,r){function o(t){return t===t&&!e(t)}var e=r(17);t.exports=o},function(t,n,r){function o(t){t=i(t);for(var n=-1,r=e(t),o=r.length,u=Array(o);++n<o;){var c=r[n];u[n]=[c,t[c]]}return u}var e=r(13),i=r(29);t.exports=o},function(t,n,r){function o(t,n){var r=c(t),o=a(t)&&f(n),v=t+"";return t=l(t),function(c){if(null==c)return!1;var a=v;if(c=s(c),(r||!o)&&!(a in c)){if(c=1==t.length?c:e(c,u(t,0,-1)),null==c)return!1;a=p(t),c=s(c)}return c[a]===n?void 0!==n||a in c:i(n,c[a],void 0,!0)}}var e=r(34),i=r(7),u=r(35),c=r(25),a=r(36),f=r(31),p=r(37),s=r(29),l=r(38);t.exports=o},function(t,n,r){function o(t,n,r){if(null!=t){void 0!==r&&r in e(t)&&(n=[r]);for(var o=0,i=n.length;null!=t&&o<i;)t=t[n[o++]];return o&&o==i?t:void 0}}var e=r(29);t.exports=o},function(t,n){function r(t,n,r){var o=-1,e=t.length;n=null==n?0:+n||0,n<0&&(n=-n>e?0:e+n),r=void 0===r||r>e?e:+r||0,r<0&&(r+=e),e=n>r?0:r-n>>>0,n>>>=0;for(var i=Array(e);++o<e;)i[o]=t[o+n];return i}t.exports=r},function(t,n,r){function o(t,n){var r=typeof t;if("string"==r&&c.test(t)||"number"==r)return!0;if(e(t))return!1;var o=!u.test(t);return o||null!=n&&t in i(n)}var e=r(25),i=r(29),u=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,c=/^\w*$/;t.exports=o},function(t,n){function r(t){var n=t?t.length:0;return n?t[n-1]:void 0}t.exports=r},function(t,n,r){function o(t){if(i(t))return t;var n=[];return e(t).replace(u,function(t,r,o,e){n.push(o?e.replace(c,"$1"):r||t)}),n}var e=r(39),i=r(25),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,c=/\\(\\)?/g;t.exports=o},function(t,n){function r(t){return null==t?"":t+""}t.exports=r},function(t,n,r){function o(t,n,r){if("function"!=typeof t)return e;if(void 0===n)return t;switch(r){case 1:return function(r){return t.call(n,r)};case 3:return function(r,o,e){return t.call(n,r,o,e)};case 4:return function(r,o,e,i){return t.call(n,r,o,e,i)};case 5:return function(r,o,e,i,u){return t.call(n,r,o,e,i,u)}}return function(){return t.apply(n,arguments)}}var e=r(41);t.exports=o},function(t,n){function r(t){return t}t.exports=r},function(t,n,r){function o(t){return u(t)?e(t):i(t)}var e=r(21),i=r(43),u=r(36);t.exports=o},function(t,n,r){function o(t){var n=t+"";return t=i(t),function(r){return e(r,t,n)}}var e=r(34),i=r(38);t.exports=o},function(t,n){function r(t,n,r){for(var o=t.length,e=r?o:-1;r?e--:++e<o;)if(n(t[e],e,t))return e;return-1}t.exports=r},function(t,n,r){function o(t,n,r){var o=c(t)?e:u;return n=i(n,r,3),o(t,n)}var e=r(46),i=r(4),u=r(47),c=r(25);t.exports=o},function(t,n){function r(t,n){for(var r=-1,o=t.length,e=-1,i=[];++r<o;){var u=t[r];n(u,r,t)&&(i[++e]=u)}return i}t.exports=r},function(t,n,r){function o(t,n){var r=[];return e(t,function(t,o,e){n(t,o,e)&&r.push(t)}),r}var e=r(48);t.exports=o},function(t,n,r){var o=r(49),e=r(52),i=e(o);t.exports=i},function(t,n,r){function o(t,n){return e(t,n,i)}var e=r(50),i=r(13);t.exports=o},function(t,n,r){var o=r(51),e=o();t.exports=e},function(t,n,r){function o(t){return function(n,r,o){for(var i=e(n),u=o(n),c=u.length,a=t?c:-1;t?a--:++a<c;){var f=u[a];if(r(i[f],f,i)===!1)break}return n}}var e=r(29);t.exports=o},function(t,n,r){function o(t,n){return function(r,o){var c=r?e(r):0;if(!i(c))return t(r,o);for(var a=n?c:-1,f=u(r);(n?a--:++a<c)&&o(f[a],a,f)!==!1;);return r}}var e=r(20),i=r(22),u=r(29);t.exports=o},function(t,n,r){function o(t,n,r){var o=null==t?void 0:e(t,i(n),n+"");return void 0===o?r:o}var e=r(34),i=r(38);t.exports=o},function(t,n,r){var o=r(55),e=r(56),i=r(58),u=i(function(t,n,r){return r?o(t,n,r):e(t,n)});t.exports=u},function(t,n,r){function o(t,n,r){for(var o=-1,i=e(n),u=i.length;++o<u;){var c=i[o],a=t[c],f=r(a,n[c],c,t,n);(f===f?f===a:a!==a)&&(void 0!==a||c in t)||(t[c]=f)}return t}var e=r(13);t.exports=o},function(t,n,r){function o(t,n){return null==n?t:e(n,i(n),t)}var e=r(57),i=r(13);t.exports=o},function(t,n){function r(t,n,r){r||(r={});for(var o=-1,e=n.length;++o<e;){var i=n[o];r[i]=t[i]}return r}t.exports=r},function(t,n,r){function o(t){return u(function(n,r){var o=-1,u=null==n?0:r.length,c=u>2?r[u-2]:void 0,a=u>2?r[2]:void 0,f=u>1?r[u-1]:void 0;for("function"==typeof c?(c=e(c,f,5),u-=2):(c="function"==typeof f?f:void 0,u-=c?1:0),a&&i(r[0],r[1],a)&&(c=u<3?void 0:c,u=1);++o<u;){var p=r[o];p&&t(n,p,c)}return n})}var e=r(40),i=r(59),u=r(60);t.exports=o},function(t,n,r){function o(t,n,r){if(!u(r))return!1;var o=typeof n;if("number"==o?e(r)&&i(n,r.length):"string"==o&&n in r){var c=r[n];return t===t?t===c:c!==c}return!1}var e=r(19),i=r(26),u=r(17);t.exports=o},function(t,n){function r(t,n){if("function"!=typeof t)throw new TypeError(o);return n=e(void 0===n?t.length-1:+n||0,0),function(){for(var r=arguments,o=-1,i=e(r.length-n,0),u=Array(i);++o<i;)u[o]=r[n+o];switch(n){case 0:return t.call(this,u);case 1:return t.call(this,r[0],u);case 2:return t.call(this,r[0],r[1],u)}var c=Array(n+1);for(o=-1;++o<n;)c[o]=r[o];return c[n]=u,t.apply(this,c)}}var o="Expected a function",e=Math.max;t.exports=r}])});